<!-- views/update-profile.handlebars -->
<main class="container">
  <div class="row">
    <div class="col s12 m8 offset-m2">
      <h2 class="center-align">Update Profile</h2>
      <div id="updateMessage" class="center-align"></div>
      <form id="update-profile-form" data-user-id="{{user.id}}" method="POST">
        
        <!-- Name -->
        <div class="input-field">
          <input type="text" id="name" name="name" class="validate" value="{{user.name}}" required>
          <label for="name" class="active">Name</label>
        </div>
        
        <!-- Username -->
        <div class="input-field">
          <input type="text" id="username" name="username" class="validate" value="{{user.username}}" required>
          <label for="username" class="active">Username</label>
        </div>
        
        <!-- Date of Birth -->
        <div class="input-field">
          <input type="date" id="DOB" name="DOB" class="datepicker" value="{{user.DOB}}" required>
          <label for="DOB" class="active">Date of Birth</label>
        </div>
        
        <!-- Gender -->
        <div class="input-field">
          <select id="gender" name="gender">
            <option value="" disabled>Select Gender</option>
            <option value="male" {{#if (eq user.gender 'male')}}selected{{/if}}>Male</option>
            <option value="female" {{#if (eq user.gender 'female')}}selected{{/if}}>Female</option>
            <option value="other" {{#if (eq user.gender 'other')}}selected{{/if}}>Other</option>
          </select>
          <label for="gender">Gender</label>
        </div>
        
        <!-- Bio -->
        <div class="input-field">
          <textarea id="bio" name="bio" class="materialize-textarea">{{user.bio}}</textarea>
          <label for="bio" class="active">Bio</label>
        </div>
        
        <!-- Submit Button -->
        <div class="center-align">
          <button type="submit" class="btn waves-effect waves-light">Update Profile</button>
        </div>
        
      </form>
    </div>
  </div>
</main>

<script src="/js/updateProfile.js"></script>
<script>// public/js/updateProfile.js
document.addEventListener('DOMContentLoaded', function() {
  var elems = document.querySelectorAll('select');
  M.FormSelect.init(elems);

  var dateElems = document.querySelectorAll('.datepicker');
  M.Datepicker.init(dateElems, {
    format: 'yyyy-mm-dd'
  });
});</script>
